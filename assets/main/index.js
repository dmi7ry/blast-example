System.register("chunks:///_virtual/Board.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./Utils.ts","./Booster.ts","./BoosterBomb.ts","./BoosterFish.ts","./BoosterRocket.ts","./BoosterMegaBomb.ts"],(function(t){"use strict";var e,o,i,r,s,n,l,h,a,d,u,c;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,i=t.Vec2},function(t){r=t.Tile,s=t.TileType},function(t){n=t.choose,l=t.shuffle},function(t){h=t.BoosterType},function(t){a=t.BoosterBomb},function(t){d=t.BoosterFish},function(t){u=t.BoosterRocket},function(t){c=t.BoosterMegaBomb}],execute:function(){var f,B;t("BoardState",void 0),o._RF.push({},"15d6fwnY/ZE5baHaJNdYJ+K","Board",void 0),function(t){t[t.INIT=0]="INIT",t[t.IDLE=1]="IDLE",t[t.PROCESS=2]="PROCESS",t[t.DROP=3]="DROP",t[t.FILL=4]="FILL",t[t.FINISHED=5]="FINISHED"}(B||(B=t("BoardState",{})));var g=((f={})[h.Bomb]=a,f[h.Fish]=d,f[h.Rocket]=u,f[h.MegaBomb]=c,f);t("Board",function(){function t(t){this.nextTileID=1,this.board=void 0,this.boardWidth=void 0,this.boardHeight=void 0,this.boardSize=void 0,this.boardState=B.INIT,this.moves=void 0,this.targetScores=void 0,this.level=void 0,this.collectedScores=0,this.shuffles=3,this.boosters=[],console.log("[Board] Started"),this.level=t,this.boardWidth=t.width,this.boardHeight=t.height,this.boardSize=this.boardWidth*this.boardHeight,this.moves=t.moves,this.targetScores=t.targetScores,this.board=new Array(t.width*t.height).fill(null),this.setBoardState(B.IDLE),this.fillBoardOnStart()}var o=t.prototype;return o.getBoardWidth=function(){return this.boardWidth},o.getBoardHeight=function(){return this.boardHeight},o.setBoardState=function(t){this.boardState=t},o.getTileNextID=function(){return this.nextTileID++},o.getBoardState=function(){return this.boardState},o.getCellByPos=function(t,e){if(t<0||e<0||t>=this.boardWidth||e>=this.boardHeight)return null;var o=this.getIndexByPos(t,e);return this.board[o]},o.getCellByIndex=function(t){return this.board[t]},o.setCellByIndex=function(t,e){this.board[t]=e,e.index=t},o.clearCellByIndex=function(t){this.board[t]=null},o.swapCells=function(t,e,o,i){var r=this.getIndexByPos(t,e),s=this.getIndexByPos(o,i),n=this.getCellByIndex(r),l=this.getCellByIndex(s);n&&(n.index=s),l&&(l.index=r);var h=[this.board[s],this.board[r]];this.board[r]=h[0],this.board[s]=h[1]},o.boardToString=function(t){for(var e="",o=0;o<this.boardSize;o++){var i=this.getCellByIndex(o),r="        ";null!=i&&(r=i.toStringDetailed(t)+" "),e+=r,o>0&&o%this.boardWidth==this.boardWidth-1&&(e+="\n")}return e},o.printBoard=function(){var t=this.boardToString();console.log(t)},o.fillBoardOnStart=function(){for(var t,o=e(this.level.items);!(t=o()).done;){var i=t.value,s=i.typeID;null==s&&(s=n(this.level.randomTiles));var l=new r(this.getTileNextID(),s);this.setCellByIndex(i.index,l)}},o.checkForMatches=function(){for(var t=Array(this.boardSize).fill(!1),o=0;o<this.boardSize;o++){var i=this.getPosByIndex(o);if(!t[o]&&null!=this.getCellByIndex(o)){var r=this.getMatch(i.x,i.y);if(r.length>=2)return!0;for(var s,n=e(r);!(s=n()).done;){t[s.value.index]=!0}}}return!1},o.getMatch=function(t,e){var o=this.boardWidth,i=this.boardHeight,r=[],s=Array(this.boardSize).fill(!1),n=[],l=this.getIndexByPos(t,e),h=this.getCellByPos(t,e);null==h&&console.log("Tile not found. Pos: "+t+", "+e+". Index: "+l);var a=h.typeID;function d(t,e,r){if(!(e<0||e>o-1||r<0||r>i-1)){var l=t.getIndexByPos(e,r);if(!s[l]){s[l]=!0;var h=t.getCellByIndex(l);null!=h&&h.typeID==a&&n.push(l)}}}for(d(this,t,e);n.length>0;){var u=n.shift(),c=this.getPosByIndex(u),f=this.getCellByIndex(u);r.push(f),d(this,c.x-1,c.y),d(this,c.x+1,c.y),d(this,c.x,c.y-1),d(this,c.x,c.y+1)}return r},o.touchPos=function(t,e){var o=this.getCellByPos(t,e);if(null!=o){var i=this.getMatch(t,e),r=o.getBoosterData();if(null!=r)console.log("USE BOOSTER! ",r);else if(i.length>=2){var s=i.length;return this.collectTiles(i),s}}return 0},o.collectTiles=function(t){var e=this;this.setBoardState(B.PROCESS),t.forEach((function(t){e.collectedScores+=t.scores,e.clearCellByIndex(t.index)}),this)},o.applyGravity=function(){this.setBoardState(B.DROP);for(var t=[],e=0;e<this.boardWidth;e++)for(var o=null,i=this.boardHeight-1;i>=0;i--){if(null==this.getCellByPos(e,i))null==o&&(o=i);else if(null!=o){var r=this.getCellByPos(e,i);if(null!=r){var s=r.index;this.swapCells(e,i,e,o--);var n={tileID:r.uniqueID,newIndex:r.index,oldIndex:s};t.push(n)}}}return t},o.getPosByIndex=function(t){var e=t%this.boardWidth,o=Math.floor(t/this.boardWidth);return new i(e,o)},o.getIndexByPos=function(t,e){return e*this.boardWidth+t},o.fillBoard=function(){for(var t=[],e=0;e<this.boardSize;e++){if(null==this.getCellByIndex(e)){var o=n(this.level.randomTiles),i=new r(this.getTileNextID(),o);this.setCellByIndex(e,i),t.push(i)}}return t},o.onFilled=function(){var t=0==this.moves||this.getScores()>=this.getRequiredScores();this.setBoardState(t?B.FINISHED:B.IDLE)},o.getMoves=function(){return this.moves},o.useMove=function(){return this.moves>0&&(this.moves--,!0)},o.getScores=function(){return this.collectedScores},o.getRequiredScores=function(){return this.targetScores},o.shuffleBoard=function(){if(this.shuffles>0){this.shuffles--,l(this.board);for(var t=0;t<this.board.length;t++){var e=this.getCellByIndex(t);null!=e&&(e.index=t)}return!0}return this.setBoardState(B.FINISHED),!1},o.applyBooster=function(t,e,o,i){return new g[t](i).apply(this,e,o)},o.onGroupCollected=function(t){for(var o,i=[{scores:4,booster:[h.Bomb]},{scores:8,booster:[h.Rocket,h.Fish]},{scores:15,booster:[h.MegaBomb]}].sort((function(t,e){return t.scores>e.scores?-1:1})),r=e(i);!(o=r()).done;){var s=o.value;if(t>=s.scores)return n(s.booster)}return null},o.createBooster=function(t,e,o){var i;console.log("Create booster: "+h[o]+", ix: "+t+", iy: "+e);var n=((i={})[h.Bomb]=s.Bomb,i[h.Fish]=s.Fish,i[h.Rocket]=s.Rocket,i[h.MegaBomb]=s.MegaBomb,i)[o],l=new r(this.getTileNextID(),n),a=this.getIndexByPos(t,e);return this.setCellByIndex(a,l),l},o.isBooster=function(t){var e=this.getCellByIndex(t);return null!=e&&null!=e.boosterType},o.getTileByID=function(t){for(var e=0;e<this.boardSize;e++){var o=this.getCellByIndex(e);if(null!=o&&o.uniqueID==t)return o}return null},o.isThereBooster=function(){for(var t=0;t<this.boardSize;t++){var e=this.getCellByIndex(t);if(null!=e&&e.isBooster())return!0}return!1},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/BoardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Board.ts","./Tile.ts","./Utils.ts"],(function(e){"use strict";var t,i,r,o,a,n,s,l,d,u,h,c,b,g,p,y,f,v,B,w,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e._decorator,l=e.Prefab,d=e.Node,u=e.RichText,h=e.Label,c=e.ProgressBar,b=e.instantiate,g=e.assert,p=e.Vec2,y=e.Vec3,f=e.Layers,v=e.Component},function(e){B=e.BoardState},function(e){w=e.TileType},function(e){x=e.isDebugMode}],execute:function(){var I,T,m,S,V,D,P,M,C,L,A,z,R,k,E,H,W,F;n._RF.push({},"aae99/8EhNEYacQ0CJsXKpr","BoardView",void 0);var N=s.ccclass,_=s.property,q=171,O=192,U=((I={})[w.Blue]="blue",I[w.Green]="green",I[w.Purple]="purple",I[w.Red]="red",I[w.Yellow]="yellow",I[w.Fish]="fish",I[w.Rocket]="rocket",I[w.Bomb]="bomb",I[w.MegaBomb]="atomic-bomb",I);e("BoardView",(T=N("BoardView"),m=_(l),S=_(d),V=_(u),D=_(h),P=_(h),M=_(h),C=_(c),T((z=t((A=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).board=null,t.boardWidth=void 0,t.boardHeight=void 0,t.boardSize=void 0,t.previousDebugMode=!1,r(t,"tileViewPrefab",z,o(t)),r(t,"tilesArea",R,o(t)),r(t,"boardRichText",k,o(t)),r(t,"boardStatusLabel",E,o(t)),r(t,"scoresCounterLabel",H,o(t)),r(t,"movesCounterLabel",W,o(t)),r(t,"scoresProgressBar",F,o(t)),t.tileViewsArray=[],t.cleanupMode=!1,t}i(t,e);var n=t.prototype;return n.start=function(){console.log("[BoardView] Started")},n.update=function(e){this.updateBoardStateLabel(),this.checkDebugMode(),this.updateCounters(),this.checkCleanup(),this.updateScoresProgress()},n.getTilesArea=function(){return this.tilesArea},n.setBoard=function(e){this.board=e,this.boardWidth=e.getBoardWidth(),this.boardHeight=e.getBoardHeight(),this.boardSize=this.boardWidth*this.boardHeight;for(var t=0;t<this.boardSize;t++){var i=this.board.getCellByIndex(t),r=this.board.getPosByIndex(t);this.addTile(r.x,r.y,i.typeID,i.uniqueID)}},n.addTile=function(e,t,i,r){var o=b(this.tileViewPrefab),a=o.getComponent("TileView");this.tilesArea.addChild(o),a.setPosition(83+q*e,-90-O*t),a.setTileID(r);var n=this.board.getIndexByPos(e,t);a.setTileIndex(n);var s=U[i];return g("string"==typeof s,"Unknown tile type: "+i),o.getComponent("cc.Sprite").changeSpriteFrameFromAtlas(s),this.tileViewsArray.push(a),a},n.getTileViewByPos=function(e,t){var i=this.getIndexByCoord(e,t);return this.getTileViewByIndex(i)},n.getTileViewByIndex=function(e){for(var t,i=a(this.tileViewsArray);!(t=i()).done;){var r=t.value;if(r.getTileIndex()==e)return r}return null},n.findTileViewByTileID=function(e){for(var t,i=a(this.tileViewsArray);!(t=i()).done;){var r=t.value;if(r.getTileID()==e)return r}return null},n.destroyTileViewByIndex=function(e){var t=this.getTileViewByIndex(e);g(null!=t,"TileView not found. Index: "+e);var i=this.tileViewsArray.indexOf(t);this.tileViewsArray.splice(i,1),t.onDestroy(),setTimeout((function(){t.node.destroy()}),500)},n.onTileMoved=function(e,t){var i=this.getTileViewByIndex(e.oldIndex);if(null!=i&&null!=this.board.getTileByID(e.tileID)){var r=this.board.getPosByIndex(e.newIndex),o=(this.board.getPosByIndex(e.oldIndex),83+q*r.x),a=-90-O*r.y;i.moveTo(o,a,.3,t),i.setTileIndex(e.newIndex)}},n.onBoardShuffled=function(){for(var e={},t=0;t<this.boardSize;t++){var i=this.board.getCellByIndex(t);null!=i&&(e[i.uniqueID.toString()]=t)}for(var r,o=a(this.tileViewsArray);!(r=o()).done;){var n=r.value,s=e[n.getTileID().toString()],l=this.board.getPosByIndex(s),d=83+q*l.x,u=-90-O*l.y;n.moveTo(d,u,.6,!1),n.setTileIndex(s)}},n.updateLabelBoard=function(){this.boardRichText.string=this.board.boardToString(!0)},n.getCoordByIndex=function(e){var t=e%this.boardWidth*q,i=Math.floor(e/this.boardWidth)*O;return new p(t,i)},n.getIndexByCoord=function(e,t){e=Math.min(e,this.boardWidth*q-1),t=Math.min(t,this.boardHeight*O-1);var i=Math.floor(e/q);return Math.floor(t/O)*this.boardWidth+i},n.updateBoardStateLabel=function(){var e=this.board.getBoardState(),t="Board State: "+B[e];t+="\nMatches: "+this.board.checkForMatches(),this.boardStatusLabel.string=t},n.onTilesSpawned=function(e){for(var t,i=a(e);!(t=i()).done;){var r=t.value,o=this.board.getPosByIndex(r.index),n=(this.boardHeight-o.y)*O,s=this.addTile(o.x,o.y,r.typeID,r.uniqueID),l=s.node,d=l.position.clone();l.setPosition(new y(l.position.x,l.position.y+n,0)),s.moveTo(d.x,d.y,.3,!1)}},n.onBoosterSpawned=function(e){var t=this.board.getPosByIndex(e.index);this.addTile(t.x,t.y,e.typeID,e.uniqueID)},n.checkDebugMode=function(){var e=x();e!=this.previousDebugMode&&(this.previousDebugMode=e,this.boardRichText.node.layer=e?f.Enum.UI_2D:f.Enum.NONE,this.boardStatusLabel.node.layer=e?f.Enum.UI_2D:f.Enum.NONE)},n.updateCounters=function(){this.movesCounterLabel.string=this.board.getMoves().toString(),this.scoresCounterLabel.string=this.board.getScores().toString()},n.cleanupBoard=function(){this.cleanupMode=!0},n.checkCleanup=function(){this.cleanupMode&&(this.tileViewsArray.length>0&&this.tileViewsArray.pop().onDestroy())},n.updateScoresProgress=function(){var e=this.board.getScores(),t=this.board.getRequiredScores(),i=(0==e?0:Math.max(.06,e/t))-this.scoresProgressBar.progress;this.scoresProgressBar.progress+=i/2},t}(v)).prototype,"tileViewPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(A.prototype,"tilesArea",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(A.prototype,"boardRichText",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(A.prototype,"boardStatusLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(A.prototype,"scoresCounterLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(A.prototype,"movesCounterLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(A.prototype,"scoresProgressBar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=A))||L));n._RF.pop()}}}));

System.register("chunks:///_virtual/Bonuses.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Booster.ts"],(function(e){"use strict";var t,n,o,s,i,a,r,l,u,c,p,h,d,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,r=e.Node,l=e.Sprite,u=e.Label,c=e.tween,p=e.Vec3,h=e.UIOpacity,d=e.Component},function(e){g=e.BoosterType}],execute:function(){var m,f,b,v,B;i._RF.push({},"0d85djSbJ1BX7t+sKWpKZZb","Bonuses",void 0);var y=a.ccclass,S=a.property,C=[{id:g.Bomb,amount:2,sprite:"bomb"},{id:g.Rocket,amount:1,sprite:"rocket"},{id:g.Fish,amount:1,sprite:"fish"}];e("Bonuses",(m=y("Bonuses"),f=S(r),m((B=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"bonusesRoot",B,s(t)),t.selectedBonus=null,t.panels=[],t}n(t,e);var i=t.prototype;return i.start=function(){console.log("[Bonuses] Started"),this.initializePanels()},i.initializePanels=function(){for(var e=Math.min(C.length,3),t=0;t<e;t++){var n=this.bonusesRoot.getChildByName("BonusPanel"+(t+1)),o={icon:n.getChildByName("Icon").getComponent(l),amountLabel:n.getChildByName("AmountLabel").getComponent(u)};this.panels.push(o);var s=C[t];o.icon.changeSpriteFrameFromAtlas(s.sprite),o.amountLabel.string=s.amount.toString()}},i.onClick=function(e,t){var n=parseInt(t);if(C[n].amount>0){var o=this.getSelected(),s=null==o||o!=n?n:null;this.select(s),this.updatePanels()}},i.updatePanels=function(){for(var e=this.getSelected(),t=0;t<this.panels.length;t++){var n=C[t];this.panels[t].amountLabel.string=n.amount.toString();var o=this.panels[t].icon.node.parent,s=t==e,i=1,a=255;null!=e&&(i=s?1.1:.9,a=s?255:128),n.amount<1&&(a=128);c(o).to(.05,{scale:new p(i,i,i)}).start(),c(o.getComponent(h)).to(.05,{opacity:a},{easing:"quartOut"}).start()}},i.onUsed=function(){var e=this.getSelected();C[e].amount--,this.select(null),this.updatePanels()},i.getSelectedType=function(){var e=this.getSelected();return null==e?null:C[e].id},i.select=function(e){this.selectedBonus=e},i.getSelected=function(){return this.selectedBonus},t}(d)).prototype,"bonusesRoot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/Booster.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,r,n;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,n=t.Component}],execute:function(){var s;t("BoosterType",void 0),e._RF.push({},"ebfb7LDmjNNQpIP6sta78wy","Booster",void 0);var c,i=r.ccclass;r.property;!function(t){t[t.Bomb=0]="Bomb",t[t.Fish=1]="Fish",t[t.Rocket=2]="Rocket",t[t.MegaBomb=3]="MegaBomb"}(c||(c=t("BoosterType",{})));t("Booster",i("Booster")(s=function(t){function e(){for(var o,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(o=t.call.apply(t,[this].concat(r))||this).typeID=void 0,o.options={},o}o(e,t);var r=e.prototype;return r.getType=function(){return this.typeID},r.setType=function(t){this.typeID=t},e}(n))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterBomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Booster.ts"],(function(o){"use strict";var t,r,e,s,n,i;return{setters:[function(o){t=o.inheritsLoose,r=o.extends},function(o){e=o.cclegacy,s=o._decorator},function(o){n=o.BoosterType,i=o.Booster}],execute:function(){var c;e._RF.push({},"f83c9KbJHNCfrC24pxd3gyc","BoosterBomb",void 0);var u=s.ccclass;s.property,o("BoosterBomb",u("BoosterBomb")(c=function(o){function e(t){var e;return void 0===t&&(t={}),(e=o.call(this)||this).options={radius:1},e.setType(n.Bomb),e.options=r({},e.options,t),console.log("[Booster][Bomb] Created"),e}return t(e,o),e.prototype.apply=function(o,t,r){for(var e=[],s=this.options.radius,n=t-s;n<=t+s;n++)for(var i=r-s;i<=r+s;i++){var c=o.getCellByPos(n,i);null!=c&&e.push(c)}return e},e}(i))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterFish.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Booster.ts"],(function(o){"use strict";var t,s,e,r,i,n;return{setters:[function(o){t=o.inheritsLoose,s=o.extends},function(o){e=o.cclegacy,r=o._decorator},function(o){i=o.BoosterType,n=o.Booster}],execute:function(){var c;e._RF.push({},"90be8wZtvxDT7c0zX7hTPhm","BoosterFish",void 0);var u=r.ccclass;r.property,o("BoosterFish",u("BoosterFish")(c=function(o){function e(t){var e;return void 0===t&&(t={}),(e=o.call(this)||this).options={radius:0},e.setType(i.Fish),e.options=s({},e.options,t),console.log("[Booster][Fish] Created. Options: ",t),e}return t(e,o),e.prototype.apply=function(o,t,s){for(var e=[],r=this.options.radius,i=0;i<o.getBoardWidth();i++)for(var n=s-r;n<=s+r;n++){var c=o.getCellByPos(i,n);null!=c&&e.push(c)}return e},e}(n))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterMegaBomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Booster.ts"],(function(e){"use strict";var o,t,r,s,n;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator},function(e){s=e.BoosterType,n=e.Booster}],execute:function(){var a;t._RF.push({},"5ce9ajf8shMEoOg3D9HgvxP","BoosterMegaBomb",void 0);var c=r.ccclass;r.property,e("BoosterMegaBomb",c("BoosterMegaBomb")(a=function(e){function t(){var o;return(o=e.call(this)||this).setType(s.MegaBomb),console.log("[Booster][MegaBomb] Created"),o}return o(t,e),t.prototype.apply=function(e,o,t){for(var r=[],s=e.getBoardWidth()*e.getBoardHeight(),n=0;n<s;n++){var a=e.getCellByIndex(n);null!=a&&r.push(a)}return r},t}(n))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterRocket.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Booster.ts"],(function(o){"use strict";var t,e,r,s,n,c;return{setters:[function(o){t=o.inheritsLoose,e=o.extends},function(o){r=o.cclegacy,s=o._decorator},function(o){n=o.BoosterType,c=o.Booster}],execute:function(){var i;r._RF.push({},"4a005eWBeNFbazTk2fWUZJY","BoosterRocket",void 0);var u=s.ccclass;s.property,o("BoosterRocket",u("BoosterRocket")(i=function(o){function r(t){var r;return void 0===t&&(t={}),(r=o.call(this)||this).options={radius:0},r.setType(n.Rocket),r.options=e({},r.options,t),console.log("[Booster][Rocket] Created"),r}return t(r,o),r.prototype.apply=function(o,t,e){for(var r=[],s=this.options.radius,n=t-s;n<=t+s;n++)for(var c=0;c<o.getBoardHeight();c++){var i=o.getCellByPos(n,c);null!=i&&r.push(i)}return r},r}(c))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/CoreController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Board.ts","./BoardView.ts","./LevelManager.ts","./Utils.ts"],(function(e){"use strict";var t,o,i,r,s,a,n,l,d,u,h,c,b,p,g,f,w,y,B,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,n=e.Node,l=e.Label,d=e.Vec3,u=e.director,h=e.Layers,c=e.UIOpacity,b=e.tween,p=e.Component},function(e){g=e.Board,f=e.BoardState},function(e){w=e.BoardView},function(e){y=e.LevelManager},function(e){B=e.setDebugMode,v=e.isDebugMode}],execute:function(){var T,L,S,E,I,V,D,M,m,C,x,R,U,F,W;s._RF.push({},"2a1ed80HhREfrWrkoX1ChwF","CoreController",void 0);var A=a.ccclass,P=a.property;e("core_controller",(T=A("core_controller"),L=P(w),S=P(n),E=P(n),I=P(l),V=P(l),D=P(n),T((C=t((m=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(t,"boardView",C,r(t)),i(t,"resultWindow",x,r(t)),i(t,"resultWindowBackground",R,r(t)),i(t,"resultWindowMessageLabel",U,r(t)),i(t,"levelCounterLabel",F,r(t)),i(t,"bonusesRoot",W,r(t)),t.board=void 0,t.levelManager=void 0,t.tilesArea=void 0,t.level=0,t.waitUserInputToEnd=!1,t.totalDeltaTile=0,t.bonuses=void 0,t}o(t,e);var s=t.prototype;return s.start=function(){console.log("[CoreController] Started"),this.hideResult(),this.level=globalThis.ProjectDebugSettings.level,console.log("LEVEL: ",this.level),this.levelCounterLabel.string=this.level.toString(),this.levelManager=new y;var e=this.levelManager.getLevel(this.level);this.board=new g(e),this.board.printBoard(),this.boardView.setBoard(this.board),this.boardView.updateLabelBoard(),this.tilesArea=this.boardView.getTilesArea(),this.tilesArea.on(n.EventType.TOUCH_START,this.onPressed,this),this.resultWindow.on(n.EventType.TOUCH_START,this.onResultPressed,this),this.bonuses=this.bonusesRoot.getComponent("Bonuses")},s.update=function(e){this.totalDeltaTile+=e,this.totalDeltaTile>1&&(this.totalDeltaTile=0,this.checkForShuffle())},s.onPressed=function(e){if(e.target&&this.board.getBoardState()==f.IDLE){var t=e.target.getComponent("cc.UITransform"),o=e.getUILocation(),i=null==t?void 0:t.convertToNodeSpaceAR(new d(o.x,o.y,0)),r=Math.floor(i.x),s=-Math.floor(i.y),a=this.boardView.getIndexByCoord(r,s),n=this.bonuses.getSelectedType();null!=n?(this.applyBooster(a,n),this.bonuses.onUsed()):this.board.isBooster(a)?this.touchBooster(a):this.touchPosition(a)}},s.onResultPressed=function(e){this.waitUserInputToEnd&&(this.waitUserInputToEnd=!1,globalThis.ProjectDebugSettings.level<this.levelManager.getMaxLevelID()?(globalThis.ProjectDebugSettings.level++,u.loadScene("core")):u.loadScene("meta"))},s.touchPosition=function(e){var t=this,o=this.board.getPosByIndex(e),i=this.board.getMatch(o.x,o.y);if(i.length>=2&&this.board.useMove()){i.forEach((function(e){t.boardView.destroyTileViewByIndex(e.index)})),this.board.collectTiles(i);var r=this.board.onGroupCollected(i.length);if(null!=r){var s=this.board.createBooster(o.x,o.y,r);this.boardView.onBoosterSpawned(s)}this.applyGravity()}},s.applyBooster=function(e,t,o){this.applyBoosterBasic(e,t,o),this.applyGravity()},s.applyBoosterBasic=function(e,t,o){var i=this,r=this.board.getPosByIndex(e),s=this.board.applyBooster(t,r.x,r.y,o),a=[];null!=s&&(s.forEach((function(t){if(t.index!=e&&t.isBooster()){var o=t.getBoosterData();a.push({index:t.index,boosterType:o.boosterType,boosterOptions:o.boosterOptions})}var r=i.boardView.findTileViewByTileID(t.uniqueID);null!=r&&i.boardView.destroyTileViewByIndex(r.getTileIndex())})),this.board.collectTiles(s),a.forEach((function(e){i.applyBoosterBasic(e.index,e.boosterType,e.boosterOptions)})))},s.touchBooster=function(e){var t=this.board.getCellByIndex(e).getBoosterData();this.applyBooster(e,t.boosterType,t.boosterOptions)},s.applyGravity=function(){var e=this,t=this.board.applyGravity();t.length>0?(this.boardView.updateLabelBoard(),setTimeout((function(){t.forEach((function(t){e.boardView.onTileMoved(t,!0)})),e.fillBoard()}),300)):this.fillBoard()},s.fillBoard=function(){var e=this;setTimeout((function(){var t=e.board.fillBoard();t.length>0&&e.boardView.onTilesSpawned(t),setTimeout((function(){e.board.onFilled(),e.checkForFinish(),e.checkForShuffle()}),400),e.boardView.updateLabelBoard()}),300)},s.switchDebugMode=function(){B(!v())},s.checkForFinish=function(){if(this.board.getBoardState()==f.FINISHED){var e=this.board.getScores()>=this.board.getRequiredScores()?"SUCCESSFUL!!!":"FAILED!";this.boardView.cleanupBoard(),this.showResultMessage(e)}},s.hideResult=function(){this.resultWindow.layer=h.Enum.NONE,this.resultWindowBackground.layer=h.Enum.NONE,this.resultWindowMessageLabel.node.layer=h.Enum.NONE},s.showResultMessage=function(e){this.resultWindow.layer=h.Enum.UI_2D,this.resultWindowBackground.layer=h.Enum.UI_2D,this.resultWindowMessageLabel.node.layer=h.Enum.UI_2D,this.resultWindowMessageLabel.string=e;var t=this.resultWindow.getComponent(c);b(t).to(.5,{opacity:255},{easing:"quartOut"}).start(),this.waitUserInputToEnd=!0},s.checkForShuffle=function(){this.board.getBoardState()!=f.IDLE||this.board.isThereBooster()||this.board.checkForMatches()||(this.board.shuffleBoard()?(this.boardView.updateBoardStateLabel(),this.boardView.updateLabelBoard(),this.boardView.onBoardShuffled()):(this.boardView.cleanupBoard(),this.showResultMessage("FAILED!\nNO TURNS AVAILABLE!")))},t}(p)).prototype,"boardView",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(m.prototype,"resultWindow",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(m.prototype,"resultWindowBackground",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(m.prototype,"resultWindowMessageLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(m.prototype,"levelCounterLabel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(m.prototype,"bonusesRoot",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=m))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,n,s,l,r,a,g,h,c,p,C,d,m,u,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,c=t.instantiate,p=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,T=t.Component}],execute:function(){var L,f,M,b,v,x,E,S,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(L=A("internal.DebugViewRuntimeControl"),f=y(r),M=y(r),b=y(r),L((E=e((x=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",E,n(e)),i(e,"singleModeToggle",S,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct TRT","Env TRT","TRT All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","TRT","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=c(s);l.parent=this.node,l.name="Buttons";var r=c(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var T=c(this.EnableAllCompositeModeButton.getChildByName("Label"));T.setPosition(i+(u>0?450:150),n,0),T.setScale(.75,.75,.75),T.parent=r;var L=T.getComponent(p);L.string=u?"----------Composite Mode----------":"----------Single Mode----------",L.color=a.WHITE,L.overflow=0,this.labelComponentList[this.labelComponentList.length]=L}n-=20;for(var f=0,M=0;M<this.strSingle.length;M++,f++){M===this.strSingle.length>>1&&(i+=200,f=0);var b=M?c(this.singleModeToggle):this.singleModeToggle;b.setPosition(i,n-20*f,0),b.setScale(.5,.5,.5),b.parent=this.singleModeToggle.parent;var v=b.getComponentInChildren(C);v.string=this.strSingle[M],this.textComponentList[this.textComponentList.length]=v,this.textContentList[this.textContentList.length]=v.string,b.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[M]=b}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var x=this.EnableAllCompositeModeButton.getComponentInChildren(p);this.labelComponentList[this.labelComponentList.length]=x;var E=c(this.EnableAllCompositeModeButton);E.setPosition(i+90,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.changeTextColor,this),E.parent=l,(x=E.getComponentInChildren(p)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=x;var S=c(this.EnableAllCompositeModeButton);S.setPosition(i+200,n,0),S.setScale(.5,.5,.5),S.on(m.EventType.CLICK,this.hideUI,this),S.parent=this.node.parent,(x=S.getComponentInChildren(p)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=x,this.hideButtonLabel=x,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=c(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?c(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(T)).prototype,"compositeModeToggle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(x.prototype,"singleModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(x.prototype,"EnableAllCompositeModeButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=x))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/LevelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./levels_config.json"],(function(e){"use strict";var r,n,t;return{setters:[function(e){r=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy},function(e){t=e.default}],execute:function(){n._RF.push({},"d1165pzB3VLUoOdgErxIm/7","LevelManager",void 0);e("LevelManager",function(){function e(){}var n=e.prototype;return n.getLevel=function(e){for(var n,o=r(t);!(n=o()).done;){var u=n.value;if(u.id==e)return u}return null},n.getMaxLevelID=function(){for(var e,n=0,o=r(t);!(e=o()).done;){var u=e.value;n<u.id&&(n=u.id)}return n},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Board.ts","./BoardView.ts","./Bonuses.ts","./Booster.ts","./BoosterBomb.ts","./BoosterFish.ts","./BoosterMegaBomb.ts","./BoosterRocket.ts","./CoreController.ts","./LevelManager.ts","./Tile.ts","./TileView.ts","./Utils.ts","./MetaController.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MetaController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,o,n,l,i,s,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,i=e._decorator,s=e.Label,a=e.director,c=e.Component}],execute:function(){var u,p,g,h,v;l._RF.push({},"5bfe4F37GNFtrgWmtZXXkMS","MetaController",void 0);var d=i.ccclass,f=i.property;e("MainController",(u=d("MainController"),p=f({type:s}),u((v=t((h=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return t=e.call.apply(e,[this].concat(l))||this,o(t,"levelCounterLabel",v,n(t)),t.level=1,t.isMenuLocked=!1,t}r(t,e);var l=t.prototype;return l.start=function(){console.log("[LOBBY] Start 3"),console.log("Level: ",this.levelCounterLabel),this.levelCounterLabel.string=this.level,globalThis.ProjectDebugSettings={}},l.OnStartPressed=function(){this.isMenuLocked||(this.isMenuLocked=!0,console.log("[LOBBY] Start pressed. Go to Core!"),globalThis.ProjectDebugSettings.level=this.level,setTimeout((function(){a.loadScene("core")}),100))},l.OnSliderChanged=function(e,t){var r=Math.round(2*e.progress)+1;this.level=r,this[t].string=r},t}(c)).prototype,"levelCounterLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["cc","./Booster.ts"],(function(e){"use strict";var t,o;return{setters:[function(e){t=e.cclegacy},function(e){o=e.BoosterType}],execute:function(){var i,s,r,n,u,l;e("TileType",void 0),t._RF.push({},"0ba42KRUShFU5t3HLXYrTBU","Tile",void 0),function(e){e[e.Blue=0]="Blue",e[e.Green=1]="Green",e[e.Purple=2]="Purple",e[e.Red=3]="Red",e[e.Yellow=4]="Yellow",e[e.Fish=5]="Fish",e[e.Rocket=6]="Rocket",e[e.Bomb=7]="Bomb",e[e.MegaBomb=8]="MegaBomb"}(l||(l=e("TileType",{})));var h=((i={})[l.Blue]="B",i[l.Green]="G",i[l.Purple]="P",i[l.Red]="R",i[l.Yellow]="Y",i[l.Fish]="-",i[l.Rocket]="2",i[l.Bomb]="3",i[l.MegaBomb]="4",i),c=((s={})[l.Blue]="[1;34m",s[l.Green]="[1;32m",s[l.Purple]="[1;35m",s[l.Red]="[1;31m",s[l.Yellow]="[1;33m",s[l.Fish]="[1;36m",s[l.Rocket]="[0m",s[l.Bomb]="[0m",s[l.MegaBomb]="[0m",s),F=((r={})[l.Blue]="#00FFFF",r[l.Green]="#00FF00",r[l.Purple]="#FF00FF",r[l.Red]="#FF4040",r[l.Yellow]="#FFFF00",r[l.Fish]="#00FFFF",r[l.Rocket]="",r[l.Bomb]="",r[l.MegaBomb]="",r),p=((n={})[l.Blue]=5,n[l.Green]=5,n[l.Purple]=5,n[l.Red]=5,n[l.Yellow]=5,n[l.Fish]=20,n[l.Rocket]=20,n[l.Bomb]=20,n[l.MegaBomb]=20,n),B=((u={})[l.Fish]=o.Fish,u[l.Rocket]=o.Rocket,u[l.Bomb]=o.Bomb,u[l.MegaBomb]=o.MegaBomb,u);e("Tile",function(){function e(e,t){this.uniqueID=void 0,this.typeID=void 0,this.boosterType=null,this.boosterOptions={},this.index=null,this.scores=void 0,this.uniqueID=e,this.typeID=t,this.scores=p[t],null!=B[t]&&(this.boosterType=B[t])}var t=e.prototype;return t.toString=function(){var e=this.uniqueID<10?"0"+this.uniqueID:this.uniqueID;return c[this.typeID]+h[this.typeID]+e+"[0m"},t.toStringDetailed=function(e){var t=this.index<10?"0"+this.index:this.index;if(e){var o=this.uniqueID<10?"0"+this.uniqueID:this.uniqueID,i=h[this.typeID];return"<b><color="+F[this.typeID]+">"+i+o+"</color></b><color=white>("+t+")</color>"}return this.toString()+"("+t+")"},t.getBoosterData=function(){return{boosterType:this.boosterType,boosterOptions:this.boosterOptions}},t.isBooster=function(){return null!=this.boosterType},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/TileView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){"use strict";var t,n,i,o,s,u,c,l,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.tween,s=e.Vec3,u=e.UIOpacity,c=e.Layers,l=e.Component},function(e){r=e.isDebugMode}],execute:function(){var a;n._RF.push({},"df6cb7ilf1O86zQn7hVNO70","TileView",void 0);var d=i.ccclass;i.property,e("TileView",d("TileView")(a=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).tileID=null,t.tileIndex=null,t.previousDebugMode=!1,t}t(n,e);var i=n.prototype;return i.update=function(e){this.checkDebugMode()},i.setTileIndex=function(e){this.tileIndex=e,this.updateDebugData()},i.getTileIndex=function(){return this.tileIndex},i.setTileID=function(e){this.tileID=e,this.updateDebugData()},i.getTileID=function(){return this.tileID},i.setPosition=function(e,t){this.node.position.set(e,t)},i.updateDebugData=function(){null!=this.tileID&&null!=this.tileIndex&&(this.node.children[0].getComponent("cc.Label").string="ID: "+this.tileID+"\ni:"+this.tileIndex,this.checkDebugMode())},i.moveTo=function(e,t,n,i){o(this.node).to(n,{position:new s(e,t,0)},{easing:i?"bounceOut":"quadOut"}).start()},i.onDestroy=function(){var e=this.node.getComponent(u);o(e).to(.5,{opacity:0},{easing:"quartOut"}).start(),o(this.node).to(.5,{scale:new s(0,0,0)}).start()},i.checkDebugMode=function(){var e=r();this.node.children[0].getComponent("cc.Label").node.layer=e?c.Enum.UI_2D:c.Enum.NONE},n}(l))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t({choose:function(t){var e=Math.floor(Math.random()*t.length);return t[e]},iRandom:function(t){return Math.round(Math.random()*t)},isDebugMode:function(){return globalThis.ProjectDebugSettings.isDebugMode},setDebugMode:function(t){globalThis.ProjectDebugSettings.isDebugMode=t,console.log("[Debug] Set debug mode: ",t?"ON":"OFF")},shuffle:function(t){var e,o=t.length;for(;o;){e=Math.floor(Math.random()*o--);var n=[t[e],t[o]];t[o]=n[0],t[e]=n[1]}}}),e._RF.push({},"b13edOhIPRJH7t0ZtZCkeR/","Utils",void 0),e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});